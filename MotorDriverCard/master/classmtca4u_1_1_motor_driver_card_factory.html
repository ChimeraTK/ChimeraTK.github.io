<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DFMC-MD22 Motor Controller: mtca4u::MotorDriverCardFactory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DESY_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DFMC-MD22 Motor Controller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemtca4u.html">mtca4u</a></li><li class="navelem"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html">MotorDriverCardFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmtca4u_1_1_motor_driver_card_factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mtca4u::MotorDriverCardFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html" title="The MotorDriverCardFactory is used to create instances of the MotorDriverCard class. ">MotorDriverCardFactory</a> is used to create instances of the <a class="el" href="classmtca4u_1_1_motor_driver_card.html" title="A class to access the DFMC-MD22 motor driver card, which provides two MotorControlers. ">MotorDriverCard</a> class.  
 <a href="classmtca4u_1_1_motor_driver_card_factory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_motor_driver_card_factory_8h_source.html">MotorDriverCardFactory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3f682c513d5cc33212a22ab0485182bb"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="classmtca4u_1_1_motor_driver_card.html">MotorDriverCard</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html#a3f682c513d5cc33212a22ab0485182bb">createMotorDriverCard</a> (std::string alias, std::string mapModuleName, std::string motorConfigFileName)</td></tr>
<tr class="memdesc:a3f682c513d5cc33212a22ab0485182bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a motor driver card from the device alias, the module name in the map file (there mighte be more than one MD22 on the carrier), and the file name for the motor config.  <a href="#a3f682c513d5cc33212a22ab0485182bb">More...</a><br /></td></tr>
<tr class="separator:a3f682c513d5cc33212a22ab0485182bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b26b091667a44a8a5bd2d88476e313"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html#a90b26b091667a44a8a5bd2d88476e313">getDummyMode</a> ()</td></tr>
<tr class="separator:a90b26b091667a44a8a5bd2d88476e313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada87532a82ec391a5925e41068eeefb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html#ada87532a82ec391a5925e41068eeefb5">setDummyMode</a> (bool dummyMode=true)</td></tr>
<tr class="separator:ada87532a82ec391a5925e41068eeefb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab0ed2b63a7ac8ae08c02bb9d0ac80048"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html#ab0ed2b63a7ac8ae08c02bb9d0ac80048">getDeviceaccessDMapFilePath</a> ()</td></tr>
<tr class="memdesc:ab0ed2b63a7ac8ae08c02bb9d0ac80048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the dmap file name that is currently set for mtca4u::deviceaccess.  <a href="#ab0ed2b63a7ac8ae08c02bb9d0ac80048">More...</a><br /></td></tr>
<tr class="separator:ab0ed2b63a7ac8ae08c02bb9d0ac80048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad51e92b6cd2b366fcd5f7cd0e8a6afb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html">MotorDriverCardFactory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html#aad51e92b6cd2b366fcd5f7cd0e8a6afb">instance</a> ()</td></tr>
<tr class="memdesc:aad51e92b6cd2b366fcd5f7cd0e8a6afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the single instance of the factory.  <a href="#aad51e92b6cd2b366fcd5f7cd0e8a6afb">More...</a><br /></td></tr>
<tr class="separator:aad51e92b6cd2b366fcd5f7cd0e8a6afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f89b228b22a9b857c88e1460c8c74a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html#a42f89b228b22a9b857c88e1460c8c74a">setDeviceaccessDMapFilePath</a> (std::string dmapFileName)</td></tr>
<tr class="memdesc:a42f89b228b22a9b857c88e1460c8c74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the application wide dmap file to use.  <a href="#a42f89b228b22a9b857c88e1460c8c74a">More...</a><br /></td></tr>
<tr class="separator:a42f89b228b22a9b857c88e1460c8c74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html" title="The MotorDriverCardFactory is used to create instances of the MotorDriverCard class. ">MotorDriverCardFactory</a> is used to create instances of the <a class="el" href="classmtca4u_1_1_motor_driver_card.html" title="A class to access the DFMC-MD22 motor driver card, which provides two MotorControlers. ">MotorDriverCard</a> class. </p>
<p>It assures that each device is only opened once and all requesting threads get the same instance of MotorDriverClass which access the same device. Like this thread safety for the SPI communication to the drivers is ensured.</p>
<p>If deviceFileName and mapFileName are the same (both have to be the map file name) a DFMC_MD22 is used in place of a real device.</p>
<p>If deviceFileName is '/dummy/MotorDriverCard' a <a class="el" href="classmtca4u_1_1_motor_driver_card_dummy.html" title="A dummy implementation of the MotorDriverCard. ">MotorDriverCardDummy</a> is created. As ususal there will be only one instance also for this special device name. </p>

<p>Definition at line <a class="el" href="_motor_driver_card_factory_8h_source.html#l00024">24</a> of file <a class="el" href="_motor_driver_card_factory_8h_source.html">MotorDriverCardFactory.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3f682c513d5cc33212a22ab0485182bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="classmtca4u_1_1_motor_driver_card.html">MotorDriverCard</a> &gt; mtca4u::MotorDriverCardFactory::createMotorDriverCard </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>alias</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>mapModuleName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>motorConfigFileName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a motor driver card from the device alias, the module name in the map file (there mighte be more than one MD22 on the carrier), and the file name for the motor config. </p>

<p>Definition at line <a class="el" href="_motor_driver_card_factory_8cc_source.html#l00025">25</a> of file <a class="el" href="_motor_driver_card_factory_8cc_source.html">MotorDriverCardFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab0ed2b63a7ac8ae08c02bb9d0ac80048"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mtca4u::MotorDriverCardFactory::getDeviceaccessDMapFilePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the dmap file name that is currently set for mtca4u::deviceaccess. </p>
<p>This is a global setting for the whole application.</p>
<p>This function has been introduced to allow using the motor driver card without having to include any header of the underlying deviceaccess library in case the application is not using it elsewhere. </p>

<p>Definition at line <a class="el" href="_motor_driver_card_factory_8cc_source.html#l00067">67</a> of file <a class="el" href="_motor_driver_card_factory_8cc_source.html">MotorDriverCardFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a90b26b091667a44a8a5bd2d88476e313"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mtca4u::MotorDriverCardFactory::getDummyMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_motor_driver_card_factory_8cc_source.html#l00053">53</a> of file <a class="el" href="_motor_driver_card_factory_8cc_source.html">MotorDriverCardFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aad51e92b6cd2b366fcd5f7cd0e8a6afb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmtca4u_1_1_motor_driver_card_factory.html">MotorDriverCardFactory</a> &amp; mtca4u::MotorDriverCardFactory::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access the single instance of the factory. </p>

<p>Definition at line <a class="el" href="_motor_driver_card_factory_8cc_source.html#l00019">19</a> of file <a class="el" href="_motor_driver_card_factory_8cc_source.html">MotorDriverCardFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a42f89b228b22a9b857c88e1460c8c74a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::MotorDriverCardFactory::setDeviceaccessDMapFilePath </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>dmapFileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the application wide dmap file to use. </p>
<dl class="section attention"><dt>Attention</dt><dd>This static function is setting the dmap file for ALL devices of the deviceaccess library, not only for the <a class="el" href="classmtca4u_1_1_motor_driver_card.html" title="A class to access the DFMC-MD22 motor driver card, which provides two MotorControlers. ">MotorDriverCard</a>. The DMapFilePath is a global setting for the whole application!</dd></dl>
<p>This function has been introduced to allow using the motor driver card without having to include any header of the underlying deviceaccess library in case the application is not using it elsewhere. If your application has already set the DMap file path you will not need this function.</p>
<p>This function is not thread safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dmapFileName</td><td>The (absolute or relative) path to the DMap file, incl. the file name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_motor_driver_card_factory_8cc_source.html#l00063">63</a> of file <a class="el" href="_motor_driver_card_factory_8cc_source.html">MotorDriverCardFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ada87532a82ec391a5925e41068eeefb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::MotorDriverCardFactory::setDummyMode </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dummyMode</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_motor_driver_card_factory_8cc_source.html#l00058">58</a> of file <a class="el" href="_motor_driver_card_factory_8cc_source.html">MotorDriverCardFactory.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/msk_jenkins/workspace/ChimeraTK_documentation_update/checkouts/MotorDriverCard/backend/include/<a class="el" href="_motor_driver_card_factory_8h_source.html">MotorDriverCardFactory.h</a></li>
<li>/home/msk_jenkins/workspace/ChimeraTK_documentation_update/checkouts/MotorDriverCard/backend/src/<a class="el" href="_motor_driver_card_factory_8cc_source.html">MotorDriverCardFactory.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 6 2019 06:55:43 for DFMC-MD22 Motor Controller by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
