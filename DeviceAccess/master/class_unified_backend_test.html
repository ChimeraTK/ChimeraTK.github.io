<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ChimeraTK-DeviceAccess: UnifiedBackendTest Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ChimeraTK_Logo_whitebg.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ChimeraTK-DeviceAccess
   &#160;<span id="projectnumber">master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_unified_backend_test.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_unified_backend_test-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UnifiedBackendTest Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to test any backend for correct behavior.  
 <a href="class_unified_backend_test.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_unified_backend_test_8h_source.html">UnifiedBackendTest.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_unified_backend_test_1_1_action_list.html">ActionList</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">"Strong typedef" for list of pairs of functors for enabling and disbaling a test condition.  <a href="class_unified_backend_test_1_1_action_list.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a09a69d6aaa80ba20695b010bb91de958"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_unified_backend_test.html#a09a69d6aaa80ba20695b010bb91de958">runTests</a> (const std::string &amp;cdd)</td></tr>
<tr class="memdesc:a09a69d6aaa80ba20695b010bb91de958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute all tests.  <a href="#a09a69d6aaa80ba20695b010bb91de958">More...</a><br /></td></tr>
<tr class="separator:a09a69d6aaa80ba20695b010bb91de958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994bd757e54484b87aed05710c2313ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_unified_backend_test.html#a994bd757e54484b87aed05710c2313ea">forceRuntimeErrorOnRead</a> (const <a class="el" href="class_unified_backend_test_1_1_action_list.html">ActionList</a> &amp;list)</td></tr>
<tr class="memdesc:a994bd757e54484b87aed05710c2313ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set list of enable/disable actions for the following test condition: Communication is broken, all reads fail with a runtime_error.  <a href="#a994bd757e54484b87aed05710c2313ea">More...</a><br /></td></tr>
<tr class="separator:a994bd757e54484b87aed05710c2313ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07256bc5d1db5516e31d323ee0fbdcef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_unified_backend_test.html#a07256bc5d1db5516e31d323ee0fbdcef">forceRuntimeErrorOnWrite</a> (const <a class="el" href="class_unified_backend_test_1_1_action_list.html">ActionList</a> &amp;list)</td></tr>
<tr class="memdesc:a07256bc5d1db5516e31d323ee0fbdcef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set functor, which will do whatever necessary that the backend will throw a <a class="el" href="class_chimera_t_k_1_1runtime__error.html" title="Exception thrown when a runtime error has occured. ">ChimeraTK::runtime_error</a> for any write operation.  <a href="#a07256bc5d1db5516e31d323ee0fbdcef">More...</a><br /></td></tr>
<tr class="separator:a07256bc5d1db5516e31d323ee0fbdcef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8dcb79787052e8c3d02d577dd0567b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_unified_backend_test.html#af8dcb79787052e8c3d02d577dd0567b0">integerRegister</a> (const std::list&lt; std::string &gt; &amp;names)</td></tr>
<tr class="memdesc:af8dcb79787052e8c3d02d577dd0567b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the names of integer registers to be used for the tests.  <a href="#af8dcb79787052e8c3d02d577dd0567b0">More...</a><br /></td></tr>
<tr class="separator:af8dcb79787052e8c3d02d577dd0567b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to test any backend for correct behavior. </p>
<p>Instantiate this class and call all (!) preparatory functions to provide the tests with the backend-specific test actions etc. Finally call <a class="el" href="class_unified_backend_test.html#a09a69d6aaa80ba20695b010bb91de958" title="Execute all tests. ">runTests()</a> to execute all tests. Internally the BOOST unit test framework is used, so this shall be called inside a normal unit test.</p>
<p>Failing to call all preparatory functions will result in an error. This allows a safe test schema evolution - if more backend specific actions for enabling and disabling test conditions are needed for the tests and the backend test has not yet been updated, tests will fail.</p>
<p>Actions are usually speficied as list of pairs of functors. The pair's first element is always the action to enable the the test condition, the second is the action to disable it. By providing multiple entries in the lists it is possible to test several code paths the backend has to end up in the intended test condition. For example in case of <a class="el" href="class_unified_backend_test.html#a994bd757e54484b87aed05710c2313ea" title="Set list of enable/disable actions for the following test condition: Communication is broken...">forceRuntimeErrorOnRead()</a>: runtime_errors in a read can be caused by a timeout in the communication channel, or by a bad reply of the device. Two list entries would be provided in this case, one to make read operations run into timeouts, and one to make the (dummy) device reply with garbage. If only one singe code path exists to get to the test condition, it is perfectly fine to have only a single entry in the list.</p>
<p>In the same way as for the actions, names of registers etc. are provided as lists, so all test can be repeated for different registers, if required for full coverage.</p>
<p>Note: This is work in progress. Tests are by far not yet complete. Interface changes of the test class are also likely. </p>

<p class="definition">Definition at line <a class="el" href="_unified_backend_test_8h_source.html#l00037">37</a> of file <a class="el" href="_unified_backend_test_8h_source.html">UnifiedBackendTest.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a994bd757e54484b87aed05710c2313ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994bd757e54484b87aed05710c2313ea">&#9670;&nbsp;</a></span>forceRuntimeErrorOnRead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UnifiedBackendTest::forceRuntimeErrorOnRead </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_unified_backend_test_1_1_action_list.html">ActionList</a> &amp;&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set list of enable/disable actions for the following test condition: Communication is broken, all reads fail with a runtime_error. </p>

<p class="definition">Definition at line <a class="el" href="_unified_backend_test_8h_source.html#l00057">57</a> of file <a class="el" href="_unified_backend_test_8h_source.html">UnifiedBackendTest.h</a>.</p>

</div>
</div>
<a id="a07256bc5d1db5516e31d323ee0fbdcef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07256bc5d1db5516e31d323ee0fbdcef">&#9670;&nbsp;</a></span>forceRuntimeErrorOnWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UnifiedBackendTest::forceRuntimeErrorOnWrite </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_unified_backend_test_1_1_action_list.html">ActionList</a> &amp;&#160;</td>
          <td class="paramname"><em>list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set functor, which will do whatever necessary that the backend will throw a <a class="el" href="class_chimera_t_k_1_1runtime__error.html" title="Exception thrown when a runtime error has occured. ">ChimeraTK::runtime_error</a> for any write operation. </p>

<p class="definition">Definition at line <a class="el" href="_unified_backend_test_8h_source.html#l00063">63</a> of file <a class="el" href="_unified_backend_test_8h_source.html">UnifiedBackendTest.h</a>.</p>

</div>
</div>
<a id="af8dcb79787052e8c3d02d577dd0567b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8dcb79787052e8c3d02d577dd0567b0">&#9670;&nbsp;</a></span>integerRegister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void UnifiedBackendTest::integerRegister </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>names</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the names of integer registers to be used for the tests. </p>

<p class="definition">Definition at line <a class="el" href="_unified_backend_test_8h_source.html#l00068">68</a> of file <a class="el" href="_unified_backend_test_8h_source.html">UnifiedBackendTest.h</a>.</p>

</div>
</div>
<a id="a09a69d6aaa80ba20695b010bb91de958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a69d6aaa80ba20695b010bb91de958">&#9670;&nbsp;</a></span>runTests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UnifiedBackendTest::runTests </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cdd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute all tests. </p>
<p>Call this function within a BOOST_AUTO_TEST_CASE after calling all preparatory functions below. The tests are executed for the backend identified by the given CDD. </p>

<p class="definition">Definition at line <a class="el" href="_unified_backend_test_8h_source.html#l00097">97</a> of file <a class="el" href="_unified_backend_test_8h_source.html">UnifiedBackendTest.h</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_unified_backend_test_a09a69d6aaa80ba20695b010bb91de958_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>device_backends/include/<a class="el" href="_unified_backend_test_8h_source.html">UnifiedBackendTest.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_unified_backend_test.html">UnifiedBackendTest</a></li>
    <li class="footer">Generated on Sat May 23 2020 03:53:10 for ChimeraTK-DeviceAccess by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
