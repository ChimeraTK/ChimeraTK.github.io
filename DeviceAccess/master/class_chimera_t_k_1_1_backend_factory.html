<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>mtca4u-deviceaccess: ChimeraTK::BackendFactory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DESY_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mtca4u-deviceaccess
   &#160;<span id="projectnumber">00.31.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_chimera_t_k.html">ChimeraTK</a></li><li class="navelem"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html">BackendFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_chimera_t_k_1_1_backend_factory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ChimeraTK::BackendFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_chimera_t_k_1_1_backend_factory.html" title="BackendFactory is a the factory class to create devices. ">BackendFactory</a> is a the factory class to create devices.  
 <a href="class_chimera_t_k_1_1_backend_factory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="device__backends_2include_2_backend_factory_8h_source.html">BackendFactory.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7348fb0d34d8737df3fa4f396fc5163d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a7348fb0d34d8737df3fa4f396fc5163d">setDMapFilePath</a> (std::string dMapFilePath)</td></tr>
<tr class="memdesc:a7348fb0d34d8737df3fa4f396fc5163d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the _DMapFilePath.  <a href="#a7348fb0d34d8737df3fa4f396fc5163d">More...</a><br /></td></tr>
<tr class="separator:a7348fb0d34d8737df3fa4f396fc5163d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad822950d59282d538922d5ac05edd94f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#ad822950d59282d538922d5ac05edd94f">getDMapFilePath</a> ()</td></tr>
<tr class="memdesc:ad822950d59282d538922d5ac05edd94f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the _DMapFilePath.  <a href="#ad822950d59282d538922d5ac05edd94f">More...</a><br /></td></tr>
<tr class="separator:ad822950d59282d538922d5ac05edd94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad77bcb5c70408e9a5f63039d9472223"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#aad77bcb5c70408e9a5f63039d9472223">registerBackendType</a> (std::string interface, std::string protocol, boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt;(*creatorFunction)(std::string host, std::string instance, std::list&lt; std::string &gt;parameters, std::string), std::string version)</td></tr>
<tr class="memdesc:aad77bcb5c70408e9a5f63039d9472223"><td class="mdescLeft">&#160;</td><td class="mdescRight">This functions add new device using uri as a key.  <a href="#aad77bcb5c70408e9a5f63039d9472223">More...</a><br /></td></tr>
<tr class="separator:aad77bcb5c70408e9a5f63039d9472223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a240088c806406533d0aa975b7bf61b05"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a240088c806406533d0aa975b7bf61b05">createBackend</a> (std::string aliasOrUri)</td></tr>
<tr class="memdesc:a240088c806406533d0aa975b7bf61b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new backend and return the instance as a shared pointer.  <a href="#a240088c806406533d0aa975b7bf61b05">More...</a><br /></td></tr>
<tr class="separator:a240088c806406533d0aa975b7bf61b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5269ea223738146c67a03e80af6fd88a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a5269ea223738146c67a03e80af6fd88a">loadPluginLibrary</a> (std::string soFile)</td></tr>
<tr class="memdesc:a5269ea223738146c67a03e80af6fd88a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a shared library (.so file) with a Backend at run time.  <a href="#a5269ea223738146c67a03e80af6fd88a">More...</a><br /></td></tr>
<tr class="separator:a5269ea223738146c67a03e80af6fd88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1176b9ab5e2ef7a1b8aa4a4aaaeb924e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_chimera_t_k_1_1_backend_factory.html">BackendFactory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a1176b9ab5e2ef7a1b8aa4a4aaaeb924e">getInstance</a> ()</td></tr>
<tr class="memdesc:a1176b9ab5e2ef7a1b8aa4a4aaaeb924e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static function to get an instance of factory.  <a href="#a1176b9ab5e2ef7a1b8aa4a4aaaeb924e">More...</a><br /></td></tr>
<tr class="separator:a1176b9ab5e2ef7a1b8aa4a4aaaeb924e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae166738b5e8ce2b948c542b91eb66237"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#ae166738b5e8ce2b948c542b91eb66237">aliasLookUp</a> (std::string aliasName, std::string dmapFilePath)</td></tr>
<tr class="memdesc:ae166738b5e8ce2b948c542b91eb66237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for the alias and if found return a uri.  <a href="#ae166738b5e8ce2b948c542b91eb66237">More...</a><br /></td></tr>
<tr class="separator:ae166738b5e8ce2b948c542b91eb66237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517b7eba664608f0cff9bf3b4dca8141"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a517b7eba664608f0cff9bf3b4dca8141">createBackendInternal</a> (const <a class="el" href="class_chimera_t_k_1_1_device_info_map_1_1_device_info.html">DeviceInfoMap::DeviceInfo</a> &amp;deviceInfo)</td></tr>
<tr class="memdesc:a517b7eba664608f0cff9bf3b4dca8141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function to return a <a class="el" href="class_chimera_t_k_1_1_device_backend.html" title="The base class for backends providing IO functionality for the Device class. ">DeviceBackend</a>.  <a href="#a517b7eba664608f0cff9bf3b4dca8141">More...</a><br /></td></tr>
<tr class="separator:a517b7eba664608f0cff9bf3b4dca8141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb11ba2d5dbe02a49f8e99ff9e84ae54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#afb11ba2d5dbe02a49f8e99ff9e84ae54">loadAllPluginsFromDMapFile</a> ()</td></tr>
<tr class="memdesc:afb11ba2d5dbe02a49f8e99ff9e84ae54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load all shared libraries specified in the dmap file.  <a href="#afb11ba2d5dbe02a49f8e99ff9e84ae54">More...</a><br /></td></tr>
<tr class="separator:afb11ba2d5dbe02a49f8e99ff9e84ae54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a84fc6c7b3131f0dd021626feb5dbfd43"><td class="memItemLeft" align="right" valign="top">static boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a84fc6c7b3131f0dd021626feb5dbfd43">failedRegistrationThrowerFunction</a> (std::string host, std::string instance, std::list&lt; std::string &gt;parameters, std::string mapFileName, std::string exception_what)</td></tr>
<tr class="separator:a84fc6c7b3131f0dd021626feb5dbfd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae7c0aa5eb4d913b0d21c68571d1eae02"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#ae7c0aa5eb4d913b0d21c68571d1eae02">_dMapFile</a></td></tr>
<tr class="memdesc:ae7c0aa5eb4d913b0d21c68571d1eae02"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dmap file set at run time.  <a href="#ae7c0aa5eb4d913b0d21c68571d1eae02">More...</a><br /></td></tr>
<tr class="separator:ae7c0aa5eb4d913b0d21c68571d1eae02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0428033845cf0f37ffef68387cffd6"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::pair&lt; std::string, std::string &gt;, boost::function&lt; boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt;std::string host, std::string instance, std::list&lt; std::string &gt;parameters, std::string mapFileName) &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#afc0428033845cf0f37ffef68387cffd6">creatorMap</a></td></tr>
<tr class="memdesc:afc0428033845cf0f37ffef68387cffd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds device type and function pointer to the createInstance function of plugin.  <a href="#afc0428033845cf0f37ffef68387cffd6">More...</a><br /></td></tr>
<tr class="separator:afc0428033845cf0f37ffef68387cffd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da959f75f3df4c7c16108c0202a5a8f"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, boost::weak_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a5da959f75f3df4c7c16108c0202a5a8f">_existingBackends</a></td></tr>
<tr class="memdesc:a5da959f75f3df4c7c16108c0202a5a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A map of all created backends.  <a href="#a5da959f75f3df4c7c16108c0202a5a8f">More...</a><br /></td></tr>
<tr class="separator:a5da959f75f3df4c7c16108c0202a5a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29d40e9befe5fb2c33df2d7c0558fee5"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html#a29d40e9befe5fb2c33df2d7c0558fee5">_mutex</a></td></tr>
<tr class="memdesc:a29d40e9befe5fb2c33df2d7c0558fee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mutex to protect backend creation and returning to keep the maps consistent.  <a href="#a29d40e9befe5fb2c33df2d7c0558fee5">More...</a><br /></td></tr>
<tr class="separator:a29d40e9befe5fb2c33df2d7c0558fee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_chimera_t_k_1_1_backend_factory.html" title="BackendFactory is a the factory class to create devices. ">BackendFactory</a> is a the factory class to create devices. </p>
<p>It is implemented as a Meyers' singleton. </p>

<p>Definition at line <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html#l00037">37</a> of file <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html">BackendFactory.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae166738b5e8ce2b948c542b91eb66237"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ChimeraTK::BackendFactory::aliasLookUp </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>aliasName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>dmapFilePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look for the alias and if found return a uri. </p>

</div>
</div>
<a class="anchor" id="a240088c806406533d0aa975b7bf61b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt; ChimeraTK::BackendFactory::createBackend </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>aliasOrUri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new backend and return the instance as a shared pointer. </p>
<p>The input argument can either be an alias name from a dmap file, or an sdm::/ URI. </p>

<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00081">81</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a517b7eba664608f0cff9bf3b4dca8141"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt; ChimeraTK::BackendFactory::createBackendInternal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_chimera_t_k_1_1_device_info_map_1_1_device_info.html">DeviceInfoMap::DeviceInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>deviceInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function to return a <a class="el" href="class_chimera_t_k_1_1_device_backend.html" title="The base class for backends providing IO functionality for the Device class. ">DeviceBackend</a>. </p>

<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00104">104</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a84fc6c7b3131f0dd021626feb5dbfd43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt; ChimeraTK::BackendFactory::failedRegistrationThrowerFunction </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>mapFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>exception_what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00229">229</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad822950d59282d538922d5ac05edd94f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string ChimeraTK::BackendFactory::getDMapFilePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the _DMapFilePath. </p>

<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00057">57</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1176b9ab5e2ef7a1b8aa4a4aaaeb924e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_chimera_t_k_1_1_backend_factory.html">BackendFactory</a> &amp; ChimeraTK::BackendFactory::getInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static function to get an instance of factory. </p>
<p>Thread safe in C++11 </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_custom_backend_8cc-example.html#a6">CustomBackend.cc</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00073">73</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="afb11ba2d5dbe02a49f8e99ff9e84ae54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::BackendFactory::loadAllPluginsFromDMapFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load all shared libraries specified in the dmap file. </p>

<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00208">208</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a5269ea223738146c67a03e80af6fd88a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::BackendFactory::loadPluginLibrary </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>soFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a shared library (.so file) with a Backend at run time. </p>

<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00163">163</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aad77bcb5c70408e9a5f63039d9472223"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::BackendFactory::registerBackendType </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a> &gt;(*)(std::string host, std::string instance, std::list&lt; std::string &gt;parameters, std::string)&#160;</td>
          <td class="paramname"><em>creatorFunction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This functions add new device using uri as a key. </p>
<p>If a key already exist it replaces it</p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000066">Todo:</a></b></dt><dd>FIXME don't replace. Check that if it is different (double registration of of the same creator function should be possibe) and throw if not the same. The version string has to match CHIMERATK_DEVICEACCESS_VERSION from <a class="el" href="_device_access_version_8h.html">DeviceAccessVersion.h</a>, otherwise a <a class="el" href="class_chimera_t_k_1_1_device_exception.html" title="A class to provide exceptions for Device. ">DeviceException</a> is thrown. This prevents incompatible plugins to be loaded. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_custom_backend_8cc-example.html#a7">CustomBackend.cc</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00030">30</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a7348fb0d34d8737df3fa4f396fc5163d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChimeraTK::BackendFactory::setDMapFilePath </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>dMapFilePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the _DMapFilePath. </p>
<p>This dmap file path is the second path where factory looks for dmap file. The first location where dmap file path is searched by library is set by enviroment variable. </p>

<p>Definition at line <a class="el" href="_backend_factory_8cc_source.html#l00052">52</a> of file <a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae7c0aa5eb4d913b0d21c68571d1eae02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ChimeraTK::BackendFactory::_dMapFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The dmap file set at run time. </p>

<p>Definition at line <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html#l00072">72</a> of file <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html">BackendFactory.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5da959f75f3df4c7c16108c0202a5a8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, boost::weak_ptr&lt;<a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a>&gt; &gt; ChimeraTK::BackendFactory::_existingBackends</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A map of all created backends. </p>
<p>If the same URI is located again, the existing backend is returned. </p>

<p>Definition at line <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html#l00084">84</a> of file <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html">BackendFactory.h</a>.</p>

</div>
</div>
<a class="anchor" id="a29d40e9befe5fb2c33df2d7c0558fee5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex ChimeraTK::BackendFactory::_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A mutex to protect backend creation and returning to keep the maps consistent. </p>

<p>Definition at line <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html#l00087">87</a> of file <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html">BackendFactory.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc0428033845cf0f37ffef68387cffd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::pair&lt;std::string, std::string&gt;, boost::function&lt; boost::shared_ptr&lt;<a class="el" href="class_chimera_t_k_1_1_device_backend.html">DeviceBackend</a>&gt;std::string host, std::string instance, std::list&lt;std::string&gt;parameters, std::string mapFileName) &gt; &gt; ChimeraTK::BackendFactory::creatorMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds device type and function pointer to the createInstance function of plugin. </p>

<p>Definition at line <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html#l00076">76</a> of file <a class="el" href="device__backends_2include_2_backend_factory_8h_source.html">BackendFactory.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/msk_jenkins/workspace/ChimeraTK_documentation_update/checkouts/DeviceAccess/device_backends/include/<a class="el" href="device__backends_2include_2_backend_factory_8h_source.html">BackendFactory.h</a></li>
<li>/home/msk_jenkins/workspace/ChimeraTK_documentation_update/checkouts/DeviceAccess/device_backends/src/<a class="el" href="_backend_factory_8cc_source.html">BackendFactory.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 17 2018 05:53:14 for mtca4u-deviceaccess by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
