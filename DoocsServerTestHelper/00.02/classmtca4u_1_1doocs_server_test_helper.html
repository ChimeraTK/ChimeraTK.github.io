<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>mtca4u-deviceaccess: mtca4u::doocsServerTestHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DESY_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mtca4u-deviceaccess
   &#160;<span id="projectnumber">00.02.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemtca4u.html">mtca4u</a></li><li class="navelem"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html">doocsServerTestHelper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classmtca4u_1_1doocs_server_test_helper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mtca4u::doocsServerTestHelper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Collection of helper routines to test DOOCS servers: control the DOOCS update() and interrupt_usr1() functions and access properties directly through pointers (instead of the RPC interface).  
 <a href="classmtca4u_1_1doocs_server_test_helper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf9ad14a4b67c1badf266608b0d78444"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:aaf9ad14a4b67c1badf266608b0d78444"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#aaf9ad14a4b67c1badf266608b0d78444">doocsGet</a> (const char *name)</td></tr>
<tr class="separator:aaf9ad14a4b67c1badf266608b0d78444"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a154224d3ff329e8e58a001f8574ba783"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a154224d3ff329e8e58a001f8574ba783">initialise</a> (bool _doNotProcessSignalsInDoocs=false)</td></tr>
<tr class="memdesc:a154224d3ff329e8e58a001f8574ba783"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialise timing control and enable intercepting the required system calls.  <a href="#a154224d3ff329e8e58a001f8574ba783">More...</a><br /></td></tr>
<tr class="separator:a154224d3ff329e8e58a001f8574ba783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1ab1046c34c4662a02657db6ddf33d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a2f1ab1046c34c4662a02657db6ddf33d">runSigusr1</a> ()</td></tr>
<tr class="memdesc:a2f1ab1046c34c4662a02657db6ddf33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">trigger doocs to run interrupt_usr1() in all locations and wait until the processing is finished  <a href="#a2f1ab1046c34c4662a02657db6ddf33d">More...</a><br /></td></tr>
<tr class="separator:a2f1ab1046c34c4662a02657db6ddf33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa869fc043d1a565d8ccb5b44e566059"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#aaa869fc043d1a565d8ccb5b44e566059">runUpdate</a> ()</td></tr>
<tr class="memdesc:aaa869fc043d1a565d8ccb5b44e566059"><td class="mdescLeft">&#160;</td><td class="mdescRight">trigger doocs to run update() in all locations and wait until the processing is finished  <a href="#aaa869fc043d1a565d8ccb5b44e566059">More...</a><br /></td></tr>
<tr class="separator:aaa869fc043d1a565d8ccb5b44e566059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed0da5902c57fa41c00e97fd0a589e11"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#aed0da5902c57fa41c00e97fd0a589e11">shutdown</a> ()</td></tr>
<tr class="memdesc:aed0da5902c57fa41c00e97fd0a589e11"><td class="mdescLeft">&#160;</td><td class="mdescRight">shutdown the doocs server  <a href="#aed0da5902c57fa41c00e97fd0a589e11">More...</a><br /></td></tr>
<tr class="separator:aed0da5902c57fa41c00e97fd0a589e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70b7555f76a8e2f5f687f9574844f58"><td class="memTemplParams" colspan="2">template&lt;typename TYPE &gt; </td></tr>
<tr class="memitem:ae70b7555f76a8e2f5f687f9574844f58"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#ae70b7555f76a8e2f5f687f9574844f58">doocsSet</a> (const std::string &amp;name, TYPE value)</td></tr>
<tr class="memdesc:ae70b7555f76a8e2f5f687f9574844f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a DOOCS property "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" "value" is the value to be set  <a href="#ae70b7555f76a8e2f5f687f9574844f58">More...</a><br /></td></tr>
<tr class="separator:ae70b7555f76a8e2f5f687f9574844f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26460fefda888af4b63ff0feba1fdf3"><td class="memTemplParams" colspan="2">template&lt;typename TYPE &gt; </td></tr>
<tr class="memitem:ae26460fefda888af4b63ff0feba1fdf3"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#ae26460fefda888af4b63ff0feba1fdf3">doocsSet</a> (const std::string &amp;name, const std::vector&lt; TYPE &gt; &amp;value)</td></tr>
<tr class="memdesc:ae26460fefda888af4b63ff0feba1fdf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a DOOCS property - array version "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" "value" is the value to be set  <a href="#ae26460fefda888af4b63ff0feba1fdf3">More...</a><br /></td></tr>
<tr class="separator:ae26460fefda888af4b63ff0feba1fdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12a0945c7adeff51bb830f1a43f8622"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#ae12a0945c7adeff51bb830f1a43f8622">doocsSetSpectrum</a> (const std::string &amp;name, const std::vector&lt; float &gt; &amp;value)</td></tr>
<tr class="memdesc:ae12a0945c7adeff51bb830f1a43f8622"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a DOOCS property - spectrum version "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" "value" is the value to be set  <a href="#ae12a0945c7adeff51bb830f1a43f8622">More...</a><br /></td></tr>
<tr class="separator:ae12a0945c7adeff51bb830f1a43f8622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f72fb57080dbad8bb39cf4ebccc5c1"><td class="memTemplParams" colspan="2">template&lt;typename TYPE &gt; </td></tr>
<tr class="memitem:a25f72fb57080dbad8bb39cf4ebccc5c1"><td class="memTemplItemLeft" align="right" valign="top">static TYPE&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a25f72fb57080dbad8bb39cf4ebccc5c1">doocsGet</a> (const char *name)</td></tr>
<tr class="memdesc:a25f72fb57080dbad8bb39cf4ebccc5c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a scalar DOOCS property "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;"  <a href="#a25f72fb57080dbad8bb39cf4ebccc5c1">More...</a><br /></td></tr>
<tr class="separator:a25f72fb57080dbad8bb39cf4ebccc5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349f67312fc38011524a2dbbd97414ea"><td class="memTemplParams" colspan="2">template&lt;typename TYPE &gt; </td></tr>
<tr class="memitem:a349f67312fc38011524a2dbbd97414ea"><td class="memTemplItemLeft" align="right" valign="top">static std::vector&lt; TYPE &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a349f67312fc38011524a2dbbd97414ea">doocsGetArray</a> (const char *name)</td></tr>
<tr class="memdesc:a349f67312fc38011524a2dbbd97414ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">get an array DOOCS property "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;"  <a href="#a349f67312fc38011524a2dbbd97414ea">More...</a><br /></td></tr>
<tr class="separator:a349f67312fc38011524a2dbbd97414ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a972fa8e7499bbae7f30fccac808f6164"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a972fa8e7499bbae7f30fccac808f6164">magic_sleep_time_sec</a> = 57005</td></tr>
<tr class="memdesc:a972fa8e7499bbae7f30fccac808f6164"><td class="mdescLeft">&#160;</td><td class="mdescRight">magic sleep time to identify the nanosleep to intercept  <a href="#a972fa8e7499bbae7f30fccac808f6164">More...</a><br /></td></tr>
<tr class="separator:a972fa8e7499bbae7f30fccac808f6164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa595752613a9906a43d42fc2c1d532d3"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#aa595752613a9906a43d42fc2c1d532d3">magic_sleep_time_usec</a> = 48879</td></tr>
<tr class="separator:aa595752613a9906a43d42fc2c1d532d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:add6828b5a9717da2043aaa8f044cb00c"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#add6828b5a9717da2043aaa8f044cb00c">int::nanosleep</a> (__const struct timespec *__requested_time, struct timespec *__remaining)</td></tr>
<tr class="separator:add6828b5a9717da2043aaa8f044cb00c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaba755274bda5677e5d07dba50713b0"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#aaaba755274bda5677e5d07dba50713b0">int::sigwait</a> (__const sigset_t *__restrict __set, int *__restrict __sig)</td></tr>
<tr class="separator:aaaba755274bda5677e5d07dba50713b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a9a0da1398bd20e64bc000e949e5b9f65"><td class="memItemLeft" align="right" valign="top">static std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a9a0da1398bd20e64bc000e949e5b9f65">update_mutex</a></td></tr>
<tr class="memdesc:a9a0da1398bd20e64bc000e949e5b9f65"><td class="mdescLeft">&#160;</td><td class="mdescRight">mutex and flag to trigger update()  <a href="#a9a0da1398bd20e64bc000e949e5b9f65">More...</a><br /></td></tr>
<tr class="separator:a9a0da1398bd20e64bc000e949e5b9f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d88a77d9a7604bcac2ec64b163226d7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a4d88a77d9a7604bcac2ec64b163226d7">allowUpdate</a> = false</td></tr>
<tr class="separator:a4d88a77d9a7604bcac2ec64b163226d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d3df05bffedaf8c6f60c8d68774fdc"><td class="memItemLeft" align="right" valign="top">static std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#ad9d3df05bffedaf8c6f60c8d68774fdc">sigusr1_mutex</a></td></tr>
<tr class="memdesc:ad9d3df05bffedaf8c6f60c8d68774fdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">mutex and flag to trigger interrupt_usr1()  <a href="#ad9d3df05bffedaf8c6f60c8d68774fdc">More...</a><br /></td></tr>
<tr class="separator:ad9d3df05bffedaf8c6f60c8d68774fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba3a271c20beb034eb28ef94e7a416a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#aeba3a271c20beb034eb28ef94e7a416a">allowSigusr1</a> = false</td></tr>
<tr class="separator:aeba3a271c20beb034eb28ef94e7a416a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac08015107cd9c4d727e8b8cb0a17df43"><td class="memItemLeft" align="right" valign="top">static std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#ac08015107cd9c4d727e8b8cb0a17df43">serverStarted</a></td></tr>
<tr class="memdesc:ac08015107cd9c4d727e8b8cb0a17df43"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag set if <a class="el" href="doocs_server_test_helper_8cc.html#af4a12c0f643353df9d8874294132e77f">nanosleep()</a> was called for the first time after setting interceptSystemCalls  <a href="#ac08015107cd9c4d727e8b8cb0a17df43">More...</a><br /></td></tr>
<tr class="separator:ac08015107cd9c4d727e8b8cb0a17df43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66b990c164704ac662bd33fc3b0ff59"><td class="memItemLeft" align="right" valign="top">static std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#af66b990c164704ac662bd33fc3b0ff59">interceptSystemCalls</a></td></tr>
<tr class="memdesc:af66b990c164704ac662bd33fc3b0ff59"><td class="mdescLeft">&#160;</td><td class="mdescRight">enable intercepting system calls  <a href="#af66b990c164704ac662bd33fc3b0ff59">More...</a><br /></td></tr>
<tr class="separator:af66b990c164704ac662bd33fc3b0ff59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103f1005c5e6f22584d8e93f9a5264ff"><td class="memItemLeft" align="right" valign="top">static std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#a103f1005c5e6f22584d8e93f9a5264ff">doNotProcessSignalsInDoocs</a></td></tr>
<tr class="memdesc:a103f1005c5e6f22584d8e93f9a5264ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">do not process any signals in DOOCS (to allow installing signal handlers instead)  <a href="#a103f1005c5e6f22584d8e93f9a5264ff">More...</a><br /></td></tr>
<tr class="separator:a103f1005c5e6f22584d8e93f9a5264ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6471603bb3c45458112ba52d0990242"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmtca4u_1_1doocs_server_test_helper.html#ac6471603bb3c45458112ba52d0990242">event</a></td></tr>
<tr class="memdesc:ac6471603bb3c45458112ba52d0990242"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal event counter  <a href="#ac6471603bb3c45458112ba52d0990242">More...</a><br /></td></tr>
<tr class="separator:ac6471603bb3c45458112ba52d0990242"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Collection of helper routines to test DOOCS servers: control the DOOCS update() and interrupt_usr1() functions and access properties directly through pointers (instead of the RPC interface). </p>
<p>The class has only static functions, so there is no need to create an instance. </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00033">33</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a25f72fb57080dbad8bb39cf4ebccc5c1"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TYPE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TYPE mtca4u::doocsServerTestHelper::doocsGet </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get a scalar DOOCS property "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00184">184</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="aaf9ad14a4b67c1badf266608b0d78444"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string mtca4u::doocsServerTestHelper::doocsGet </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="doocs_server_test_helper_8cc_source.html#l00198">198</a> of file <a class="el" href="doocs_server_test_helper_8cc_source.html">doocsServerTestHelper.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a349f67312fc38011524a2dbbd97414ea"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TYPE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; TYPE &gt; mtca4u::doocsServerTestHelper::doocsGetArray </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get an array DOOCS property "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00215">215</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae70b7555f76a8e2f5f687f9574844f58"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TYPE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::doocsServerTestHelper::doocsSet </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TYPE&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set a DOOCS property "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" "value" is the value to be set </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00123">123</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae26460fefda888af4b63ff0feba1fdf3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TYPE &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::doocsServerTestHelper::doocsSet </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; TYPE &gt; &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set a DOOCS property - array version "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" "value" is the value to be set </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00142">142</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae12a0945c7adeff51bb830f1a43f8622"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::doocsServerTestHelper::doocsSetSpectrum </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set a DOOCS property - spectrum version "name" is the property name in the form "//&lt;location&gt;/&lt;property&gt;" "value" is the value to be set </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8cc_source.html#l00175">175</a> of file <a class="el" href="doocs_server_test_helper_8cc_source.html">doocsServerTestHelper.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a154224d3ff329e8e58a001f8574ba783"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::doocsServerTestHelper::initialise </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>_doNotProcessSignalsInDoocs</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initialise timing control and enable intercepting the required system calls. </p>
<p>This will trigger a first sigusr1 to make sure the server has properly started. Until the server started and processed the first siguser1, this function will block. If the optional argument is set to true, DOOCS will not receive any signals via <a class="el" href="doocs_server_test_helper_8cc.html#acb52e9b9307534ee8e4fb0ffbc297307">sigwait()</a> to process. This allows catching signals via signal handlers (e.g. sigaction). Note that update() and interrupt_usr1() may be executed a few times before this function returns. Important: You need to set the update rate in the DOOCS server configuration to the following exact values, or your code will hang with a dead lock: "SVR.RATE: 57005 48879 0 0" </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8cc_source.html#l00115">115</a> of file <a class="el" href="doocs_server_test_helper_8cc_source.html">doocsServerTestHelper.cc</a>.</p>

</div>
</div>
<a class="anchor" id="add6828b5a9717da2043aaa8f044cb00c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="doocs_server_test_helper_8cc.html#af4a12c0f643353df9d8874294132e77f">mtca4u::doocsServerTestHelper::int::nanosleep</a> </td>
          <td>(</td>
          <td class="paramtype">__const struct timespec *&#160;</td>
          <td class="paramname"><em>__requested_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>__remaining</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaaba755274bda5677e5d07dba50713b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="doocs_server_test_helper_8cc.html#acb52e9b9307534ee8e4fb0ffbc297307">mtca4u::doocsServerTestHelper::int::sigwait</a> </td>
          <td>(</td>
          <td class="paramtype">__const sigset_t *__restrict&#160;</td>
          <td class="paramname"><em>__set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *__restrict&#160;</td>
          <td class="paramname"><em>__sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2f1ab1046c34c4662a02657db6ddf33d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::doocsServerTestHelper::runSigusr1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>trigger doocs to run interrupt_usr1() in all locations and wait until the processing is finished </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8cc_source.html#l00142">142</a> of file <a class="el" href="doocs_server_test_helper_8cc_source.html">doocsServerTestHelper.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aaa869fc043d1a565d8ccb5b44e566059"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::doocsServerTestHelper::runUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>trigger doocs to run update() in all locations and wait until the processing is finished </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8cc_source.html#l00153">153</a> of file <a class="el" href="doocs_server_test_helper_8cc_source.html">doocsServerTestHelper.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aed0da5902c57fa41c00e97fd0a589e11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mtca4u::doocsServerTestHelper::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>shutdown the doocs server </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8cc_source.html#l00164">164</a> of file <a class="el" href="doocs_server_test_helper_8cc_source.html">doocsServerTestHelper.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aeba3a271c20beb034eb28ef94e7a416a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mtca4u::doocsServerTestHelper::allowSigusr1 = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00104">104</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4d88a77d9a7604bcac2ec64b163226d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mtca4u::doocsServerTestHelper::allowUpdate = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00100">100</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a103f1005c5e6f22584d8e93f9a5264ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; bool &gt; mtca4u::doocsServerTestHelper::doNotProcessSignalsInDoocs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>do not process any signals in DOOCS (to allow installing signal handlers instead) </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00113">113</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac6471603bb3c45458112ba52d0990242"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mtca4u::doocsServerTestHelper::event</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal event counter </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00116">116</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="af66b990c164704ac662bd33fc3b0ff59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; bool &gt; mtca4u::doocsServerTestHelper::interceptSystemCalls</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>enable intercepting system calls </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00110">110</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a972fa8e7499bbae7f30fccac808f6164"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int mtca4u::doocsServerTestHelper::magic_sleep_time_sec = 57005</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>magic sleep time to identify the nanosleep to intercept </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00090">90</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa595752613a9906a43d42fc2c1d532d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int mtca4u::doocsServerTestHelper::magic_sleep_time_usec = 48879</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00091">91</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac08015107cd9c4d727e8b8cb0a17df43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt; bool &gt; mtca4u::doocsServerTestHelper::serverStarted</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>flag set if <a class="el" href="doocs_server_test_helper_8cc.html#af4a12c0f643353df9d8874294132e77f">nanosleep()</a> was called for the first time after setting interceptSystemCalls </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00107">107</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad9d3df05bffedaf8c6f60c8d68774fdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex mtca4u::doocsServerTestHelper::sigusr1_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>mutex and flag to trigger interrupt_usr1() </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00103">103</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9a0da1398bd20e64bc000e949e5b9f65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex mtca4u::doocsServerTestHelper::update_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>mutex and flag to trigger update() </p>

<p>Definition at line <a class="el" href="doocs_server_test_helper_8h_source.html#l00099">99</a> of file <a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/killenb/chimeratk.github.io/checkouts/DoocsServerTestHelper/include/<a class="el" href="doocs_server_test_helper_8h_source.html">doocsServerTestHelper.h</a></li>
<li>/home/killenb/chimeratk.github.io/checkouts/DoocsServerTestHelper/src/<a class="el" href="doocs_server_test_helper_8cc_source.html">doocsServerTestHelper.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 9 2017 18:07:43 for mtca4u-deviceaccess by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
